OK, đã cập nhật toàn bộ file HTML và JavaScript. Bạn chỉ cần sao chép và dán toàn bộ đoạn mã này để áp dụng hiệu ứng logo mới.

Tôi đã chỉnh sửa phần CSS của `.title` để tạo hiệu ứng nổi 3D trắng-đen cho logo "KIEU TUAN HUNG", làm nó nổi bật và ấn tượng hơn.

```html
<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Kieu Tuan Hung - Bay Cao Viet Nam</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@700;800;900&display=swap');
:root{
  --bg1:#2d8c97; --bg2:#46b3b0; --btn:#C20C19;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:'Inter',Arial,sans-serif;background:linear-gradient(180deg,var(--bg1) 0%, var(--bg2) 100%);overflow:hidden}
#game-container{
  width:420px;height:640px;margin:24px auto;position:relative;border-radius:18px;
  box-shadow:0 24px 60px rgba(0,0,0,0.25);overflow:hidden;background:linear-gradient(180deg,#3498db 0%, #aed6f1 100%);
}
canvas#game{display:block;width:100%;height:100%;background:transparent;cursor:pointer;border-radius:18px}
#start-screen{
  position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;
  z-index:30;color:white;text-align:center;padding:20px;
  background:radial-gradient(60% 60% at 50% 30%, rgba(255,255,255,0.14) 0%, rgba(255,255,255,0.02) 60%, rgba(255,255,255,0.00) 100%);
  backdrop-filter: blur(2px);
}
.title{
  font-size: 44px; /* Kích thước lớn hơn */
  font-weight: 900;
  letter-spacing: 2px; /* Khoảng cách chữ rộng hơn */
  margin-bottom: 8px;
  color: #fff;
  text-shadow: 
    -2px -2px 0 #000,   /* Hiệu ứng nổi màu đen */
    2px 2px 0 #fff,   /* Hiệu ứng nổi màu trắng */
    0 0 10px rgba(0,0,0,0.5); /* Thêm một lớp bóng mờ */
  font-family: 'Inter', sans-serif;
}
.subtitle{font-size:14px;opacity:0.97;margin-bottom:18px;text-shadow:0 2px 12px rgba(0,0,0,0.4)}
.btn{background:var(--btn);border:none;border-radius:14px;padding:12px 26px;color:white;font-weight:900;cursor:pointer;box-shadow:0 10px 20px rgba(194,12,25,0.35);font-size:18px}
.btn:hover{transform:translateY(-2px)}
.hud{
  position:absolute;left:14px;top:10px;color:#fff;font-weight:900;
  text-shadow:0 0 6px rgba(0,0,0,0.6), 0 0 14px rgba(255,255,255,0.35);z-index:40;
  filter: drop-shadow(0 2px 6px rgba(0,0,0,0.35));
}
#floating-text{
    position:absolute;
    left:50%;
    transform:translateX(-50%);
    bottom:20px;
    font-size:32px;
    font-weight:900;
    color:#ffd700;
    text-shadow:2px 2px 10px rgba(0,0,0,0.6), 0 0 18px rgba(255,215,0,0.9);
    z-index:35;
    opacity:0;
    display: flex;
    justify-content: center;
    align-items: center;
    white-space: nowrap;
}
#game-over{position:absolute;inset:0;background:rgba(4,10,20,0.7);display:flex;align-items:center;justify-content:center;flex-direction:column;color:white;font-weight:900;font-size:28px;z-index:80;visibility:hidden;opacity:0;transition:opacity .5s}
#game-over.visible{visibility:visible;opacity:1}
#go-title{
  font-size:32px;
  text-shadow: 0 4px 10px rgba(0,0,0,0.5);
  margin-bottom: 16px;
  letter-spacing: 1px;
}
.go-subtitle{
  font-size:16px;
  opacity: 0.9;
  font-weight: 500;
  margin-bottom: 24px;
}
.score-display{
  font-size: 24px;
  margin-bottom: 24px;
  text-shadow: 0 2px 6px rgba(0,0,0,0.4);
}
.go-btn{
  background: #28a745;
  border: none;
  border-radius: 14px;
  padding: 12px 26px;
  color: white;
  font-weight: 900;
  cursor: pointer;
  box-shadow: 0 10px 20px rgba(40, 167, 69, 0.35);
  font-size: 18px;
}
#start-banner{
  font-size: 18px;
  font-weight: 900;
  color: white;
  text-shadow: 0 2px 10px rgba(0,0,0,0.6);
  max-width: 80%;
  margin: 16px auto;
  line-height: 1.4;
  letter-spacing: 0.5px;
  background: rgba(0,0,0,0.2);
  padding: 10px;
  border-radius: 8px;
  animation: none;
  border: 2px solid white;
}
.cloud-decor{position:absolute;inset:auto 0 0 0;height:140px;pointer-events:none;z-index:10}
</style>
</head>
<body>
<div id="game-container" role="application" aria-label="Kieu Tuan Hung">
  <canvas id="game" width="420" height="640" aria-label="game canvas"></canvas>

  <div id="start-screen" role="dialog" aria-modal="true">
    <div class="title" id="start-title">KIEU TUAN HUNG</div>
    <div class="subtitle">Chào mừng 80 năm Quốc Khánh Việt Nam (2/9/1945 - 2/9/2025)</div>
    <div id="start-banner">NHỚ ƠN BÁC VÀ CÁC THẾ HỆ ĐÃ HY SINH CHO ĐỘC LẬP TỰ DO — HÃY THỂ HIỆN NIỀM TỰ HÀO DÂN TỘC TRONG TỪNG CÚ NHẢY</div>
    <button id="btn-play" class="btn" aria-label="Play">BAY LÊN</button>
    <div style="margin-top:12px;font-size:13px;opacity:0.9">Nhấn SPACE hoặc click/chạm để vỗ cánh</div>
  </div>

  <div id="floating-text" aria-hidden="true">KIEU TUAN HUNG</div>
  <div class="hud" id="hud">Điểm: 0 | Cột mốc: 1</div>

  <div id="game-over" role="alertdialog" aria-hidden="true">
    <div id="go-title">TỔ QUỐC GHI CÔNG</div>
    <div class="go-subtitle">Ngày độc lập, tự do vĩnh cửu.</div>
    <div id="final-score" class="score-display"></div>
    <button id="restart-btn" class="go-btn">Tiếp tục cống hiến</button>
  </div>

  <div class="cloud-decor" aria-hidden="true"></div>
  <audio id="bg-music" src="tienquanca.mp3" loop preload="auto"></audio>
</div>

<script>
(() => {
  const canvas = document.getElementById('game');
  const ctx = canvas.getContext('2d');
  const W = canvas.width, H = canvas.height;
  const btnPlay = document.getElementById('btn-play');
  const startScreen = document.getElementById('start-screen');
  const hud = document.getElementById('hud');
  const go = document.getElementById('game-over');
  const finalScore = document.getElementById('final-score');
  const restartBtn = document.getElementById('restart-btn');
  const floatingText = document.getElementById('floating-text');
  const bgMusic = document.getElementById('bg-music');

  let frames = 0, pipes = [], score = 0, passedPipes = 0, level = 1, currentLevelPipesPassed = 0;
  let gameOver = false, playing = false, screenShake = 0, isGameEnding = false;
  const PIPE_W = 72, PIPE_GAP = 150, PIPE_DIST = 200, PIPE_SPEED = 2.4;
  
  function getPipesPerLevel(level) {
    return 5 + (level - 1) * 5;
  }

  const bird = { x: 80, y: H/2, radius: 15, velocity: 0, gravity: 0.55, jump: -9, rotation: 0, wing: 0, particles: [] };

  function createStarParticle(x, y) {
      return {
          x: x, y: y,
          vx: (Math.random() - 0.5) * 2,
          vy: (Math.random() - 0.5) * 2 - 1,
          life: 30 + Math.random() * 20,
          age: 0,
          size: 2 + Math.random() * 2
      };
  }

  let cloudList = [], hillBack = [], hillFront = [];
  function initClouds(){
    cloudList = [];
    for(let i=0;i<6;i++) cloudList.push({ x: Math.random()*W, y: 18 + Math.random()*110, size: 40 + Math.random()*50, speed: 0.12 + Math.random()*0.16 });
  }
  function initHills(){
    hillBack = genHills(6, H-120, 0.2);
    hillFront = genHills(8, H-80, 0.4);
  }
  function genHills(n, baseY, speed){
    const arr = [];
    for(let i=0;i<n;i++){
      arr.push({ x: i*(W/n)+Math.random()*20, w: 140+Math.random()*100, h: 40+Math.random()*50, speed });
    }
    return arr;
  }

  let feathers = [];
  function addFeathers(){
    for(let i=0;i<10;i++){
      feathers.push({
        x: bird.x, y: bird.y, vx: (Math.random()*-1.8)-0.8, vy: (Math.random()*1.4)-0.7,
        life: 36 + Math.random()*18, age: 0, r: 1 + Math.random()*1.6, hue: 48 + Math.random()*10
      });
    }
  }
  function updateFeathers(){
    feathers.forEach(f=>{ f.x += f.vx; f.y += f.vy; f.vy += 0.02; f.age++; });
    feathers = feathers.filter(f => f.age < f.life);
  }

  let fireworks = [], showCelebration = false, celebrationTimer = 0, CELEBRATION_DURATION = 180;
  function spawnFirework(x,y,count=36){
    const hue = Math.random() < 0.5 ? 0 : 60;
    for(let i=0;i<count;i++){
      const speed = Math.random()*4 + 1.8;
      const angle = Math.random()*Math.PI*2;
      fireworks.push({ x, y, vx:Math.cos(angle)*speed, vy:Math.sin(angle)*speed, life:Math.random()*60+40, age:0, hue, r:Math.random()*2+1 });
    }
  }
  function updateFireworks(){
    for(const f of fireworks){ f.vy += 0.06; f.x += f.vx; f.y += f.vy; f.age++; }
    fireworks = fireworks.filter(f => f.age < f.life);
  }

  function spawnPipe(x){
    const center = Math.random() * (H - 240 - PIPE_GAP) + 120;
    return { x, top: center - PIPE_GAP/2 - H, bottom: center + PIPE_GAP/2, passed:false };
  }

  function updateHUD(){ hud.textContent = `Điểm: ${score} | Cột mốc: ${level}`; }
  
  function updateFloatingText(text) {
      floatingText.innerHTML = '';
      const textArray = text.split('');
      textArray.forEach((char, index) => {
          const span = document.createElement('span');
          span.textContent = char;
          span.style.color = index % 2 === 0 ? '#C20C19' : '#FFD700';
          floatingText.appendChild(span);
      });
      
      floatingText.style.opacity = 1; 
      floatingText.style.bottom = '-60px';
      floatingText.style.transition = 'bottom 1.6s ease-out, opacity 1.6s';
      setTimeout(()=>{ floatingText.style.bottom = `${H/2 - 40}px`; }, 10);
      setTimeout(()=>{ floatingText.style.opacity = 0; }, 1600);
  }

  function circleRect(cx,cy,r,rx,ry,rw,rh){
    const nx = Math.max(rx, Math.min(cx, rx+rw));
    const ny = Math.max(ry, Math.min(cy, ry+rh));
    const dx = cx-nx, dy = cy-ny;
    return (dx*dx + dy*dy) < (r*r);
  }

  const AudioCtx = window.AudioContext || window.webkitAudioContext;
  const audioCtx = AudioCtx ? new AudioCtx() : null;
  
  function playFlapSound() {
    if (!audioCtx) return;
    const now = audioCtx.currentTime;
    const o = audioCtx.createOscillator();
    const g = audioCtx.createGain();
    o.type = 'triangle';
    o.frequency.setValueAtTime(440, now);
    g.gain.setValueAtTime(0.2, now);
    g.gain.exponentialRampToValueAtTime(0.001, now + 0.1);
    o.connect(g);
    g.connect(audioCtx.destination);
    o.start(now);
    o.stop(now + 0.1);
  }

  function playLevelSound(){
    if(!audioCtx) return;
    const now = audioCtx.currentTime;
    [880,1100,660].forEach((f,i)=>{
      const o = audioCtx.createOscillator();
      const g = audioCtx.createGain();
      o.type = 'sine'; o.frequency.setValueAtTime(f, now + i*0.02);
      g.gain.setValueAtTime(0, now); g.gain.linearRampToValueAtTime(0.12, now+0.01);
      g.gain.exponentialRampToValueAtTime(0.001, now+0.6);
      o.connect(g); g.connect(audioCtx.destination);
      o.start(now + i*0.02); o.stop(now + 0.6);
    });
  }

  function playHitSound() {
    if(!audioCtx) return;
    const now = audioCtx.currentTime;
    const g = audioCtx.createGain();
    const o = audioCtx.createOscillator();
    o.type = 'square';
    o.frequency.setValueAtTime(100, now);
    g.gain.setValueAtTime(0.3, now);
    g.gain.exponentialRampToValueAtTime(0.001, now + 0.2);
    o.connect(g);
    g.connect(audioCtx.destination);
    o.start(now);
    o.stop(now + 0.2);
  }

  function playFireworkBoom(){
    if(!audioCtx) return;
    const now = audioCtx.currentTime;
    const size = audioCtx.sampleRate * 0.25;
    const buffer = audioCtx.createBuffer(1, size, audioCtx.sampleRate);
    const ch = buffer.getChannelData(0);
    for(let i=0;i<size;i++) ch[i] = (Math.random()*2-1) * Math.exp(-4*i/size);
    const src = audioCtx.createBufferSource();
    src.buffer = buffer; const g = audioCtx.createGain();
    g.gain.setValueAtTime(0.6, now); g.gain.exponentialRampToValueAtTime(0.001, now+0.4);
    src.connect(g); g.connect(audioCtx.destination); src.start(now);
  }
  
  function flap(){
    if(gameOver) return;
    bird.velocity = bird.jump;
    playFlapSound(); 
    addFeathers();
    for (let i = 0; i < 5; i++) {
        bird.particles.push(createStarParticle(bird.x, bird.y));
    }
    if(!playing){
      playing = true;
      startScreen.style.display = 'none';
      startMusic();
    }
  }

  window.addEventListener('keydown', e => { if(e.code === 'Space'){ e.preventDefault(); flap(); } if(e.key === 'r' && gameOver) reset(); });
  canvas.addEventListener('mousedown', () => { flap(); });
  canvas.addEventListener('touchstart', (e) => { e.preventDefault(); flap(); }, { passive: false });

  btnPlay.addEventListener('click', () => { flap(); });
  restartBtn.addEventListener('click', () => { reset(); startMusic(); });

  function update(){
    if (isGameEnding) {
        return;
    }
    frames++;
    if(screenShake > 0) screenShake -= 0.5;
    
    let shakeX = 0, shakeY = 0;
    if (screenShake > 0) {
        shakeX = Math.random() * screenShake - screenShake / 2;
        shakeY = Math.random() * screenShake - screenShake / 2;
    }
    ctx.translate(shakeX, shakeY);

    cloudList.forEach(c => { c.x -= c.speed; if(c.x < -c.size*1.2) c.x = W + c.size; });
    hillBack.forEach(h => { h.x -= h.speed; if(h.x < -h.w) h.x = W + Math.random()*40; });
    hillFront.forEach(h => { h.x -= h.speed*1.2; if(h.x < -h.w) h.x = W + Math.random()*40; });

    if(!playing || gameOver){
      updateFireworks();
      updateFeathers();
      return;
    }

    bird.velocity += bird.gravity; bird.y += bird.velocity;
    bird.rotation = Math.max(Math.min(bird.velocity/10,0.8), -0.9);
    bird.wing += 0.25 + Math.max(0, -bird.velocity*0.03);

    bird.particles.forEach(p => {
        p.x += p.vx;
        p.y += p.vy;
        p.vy += 0.1;
        p.age++;
    });
    bird.particles = bird.particles.filter(p => p.age < p.life);

    for(const p of pipes){
      p.x -= PIPE_SPEED;
      if(p.x + PIPE_W < -40){
        const maxX = Math.max(...pipes.map(q=>q.x));
        Object.assign(p, spawnPipe(maxX + PIPE_DIST));
        p.x = maxX + PIPE_DIST; p.passed = false;
        
      }
      if(!p.passed && p.x + PIPE_W < bird.x){
        p.passed = true; score++; 
        currentLevelPipesPassed++;

        if (currentLevelPipesPassed % 5 === 0 && currentLevelPipesPassed !== 0) {
            level++;
            updateHUD();
            for(let i=0;i<6;i++) spawnFirework(60 + i*(W-120)/5, 120 + Math.random()*80);
            showCelebration = true; celebrationTimer = 0;
            updateFloatingText("BAC HO VI DAI");
            playLevelSound(); playFireworkBoom();
        } else {
            updateHUD();
        }
      }
      if(circleRect(bird.x, bird.y, bird.radius, p.x, p.top, PIPE_W, H) ||
         circleRect(bird.x, bird.y, bird.radius, p.x, p.bottom, PIPE_W, H)){
        playHitSound();
        endGame();
      }
    }

    if(bird.y + bird.radius > H - 46){ bird.y = H - 46 - bird.radius; playHitSound(); endGame(); }
    if(bird.y - bird.radius < 0){ bird.y = bird.radius; bird.velocity = 0; }

    if(showCelebration){
      celebrationTimer++;
      if(frames % 8 === 0) spawnFirework(Math.random()*(W-120) + 60, Math.random()*(H/2 - 120) + 120);
      updateFireworks();
      if(celebrationTimer > CELEBRATION_DURATION){ showCelebration = false; celebrationTimer = 0; fireworks = []; }
    }
    updateFeathers();
  }

  function endGame(){
    if (isGameEnding) return;
    isGameEnding = true;
    gameOver = true; 
    playing = false; 
    screenShake = 20; 
    stopMusic();

    setTimeout(() => {
        const hsKey = 'flappy_kieu_tuan_hung_highscore';
        let highscore = parseInt(localStorage.getItem(hsKey) || 0, 10);
        if(score > highscore){ localStorage.setItem(hsKey, score); highscore = score; }
        finalScore.textContent = `Điểm: ${score} | Điểm cao nhất: ${highscore}`;
        go.classList.add('visible');
    }, 500); 
  }

  function drawSky(){
    const g = ctx.createLinearGradient(0,0,0,H);
    g.addColorStop(0,'#3498db'); g.addColorStop(0.45,'#5dade2'); g.addColorStop(1,'#aed6f1');
    ctx.fillStyle = g; ctx.fillRect(0,0,W,H);

    const rg = ctx.createRadialGradient(W*0.82, H*0.18, 10, W*0.82, H*0.18, 140);
    rg.addColorStop(0,'rgba(255,243,180,0.95)');
    rg.addColorStop(0.3,'rgba(255,220,120,0.55)');
    rg.addColorStop(1,'rgba(255,220,120,0)');
    ctx.beginPath(); ctx.fillStyle = rg; ctx.arc(W*0.82, H*0.18, 140, 0, Math.PI*2); ctx.fill();

    ctx.save();
    ctx.globalAlpha = 0.95;
    cloudList.forEach(c => {
      ctx.beginPath();
      ctx.ellipse(c.x, c.y, c.size*0.7, c.size*0.45, 0, 0, Math.PI*2);
      ctx.ellipse(c.x + c.size*0.55, c.y - c.size*0.22, c.size*0.55, c.size*0.38, 0,0,Math.PI*2);
      ctx.fillStyle = 'white'; ctx.fill();
    });
    ctx.restore();

    drawHills(hillBack, '#7cb484', '#689d71');
    drawHills(hillFront, '#3e8f47', '#2b6330');
  }
  function drawHills(arr, c1, c2){
    ctx.save(); ctx.globalAlpha = 0.85;
    arr.forEach(h => {
      const grad = ctx.createLinearGradient(0, H-h.h, 0, H);
      grad.addColorStop(0,c1); grad.addColorStop(1,c2);
      ctx.fillStyle = grad;
      ctx.beginPath();
      const x = h.x, w = h.w, top = H - 120 - h.h + (c2==='#2b6330'?10:0);
      ctx.moveTo(x, H); ctx.quadraticCurveTo(x+w*0.5, top, x+w, H); ctx.closePath(); ctx.fill();
    });
    ctx.restore();
  }
  
  function drawStar(x, y, r, innerR, points) {
    ctx.beginPath();
    for (let i = 0; i < points; i++) {
        const angle = Math.PI / 2 + (i * 2 * Math.PI) / points;
        const innerAngle = Math.PI / 2 + ((i + 0.5) * 2 * Math.PI) / points;
        const x1 = x + Math.cos(angle) * r;
        const y1 = y + Math.sin(angle) * r;
        const x2 = x + Math.cos(innerAngle) * innerR;
        const y2 = y + Math.sin(innerAngle) * innerR;
        if (i === 0) {
            ctx.moveTo(x1, y1);
        } else {
            ctx.lineTo(x1, y1);
        }
        ctx.lineTo(x2, y2);
    }
    ctx.closePath();
  }

  function drawPipes(p, pipeIndex){
    const isSpecial = (pipeIndex) % 5 === 0;
    drawPipe(p.x, 0, PIPE_W, p.top + H, true, isSpecial);
    drawPipe(p.x, p.bottom, PIPE_W, H - p.bottom, false, isSpecial);
  }
  
  function drawPipe(x,y,w,h,isTop, isSpecial){
    const grad = ctx.createLinearGradient(x, y, x+w, y);
    if(isSpecial) {
      grad.addColorStop(0,'#FFD700'); grad.addColorStop(0.5,'#F5D10A'); grad.addColorStop(1,'#FFD700');
      ctx.fillStyle = grad;
    } else {
      grad.addColorStop(0,'#C20C19'); grad.addColorStop(0.5,'#D32A39'); grad.addColorStop(1,'#C20C19');
      ctx.fillStyle = grad;
    }
    ctx.fillRect(x,y,w,h);

    const starColor = isSpecial ? '#C20C19' : '#FFD700';

    ctx.fillStyle = starColor;
    const starSize = w * 0.3;
    const starX = x + w/2;
    const starY = y + h/2;
    drawStar(starX, starY, starSize, starSize * 0.4, 5);
    ctx.fill();

    ctx.fillStyle = 'rgba(0,0,0,0.12)';
    ctx.fillRect(x+6, y+4, 2, h-8);
    ctx.fillStyle = 'rgba(255,255,255,0.18)';
    ctx.fillRect(x+w-8, y+4, 2, h-8);
  }

  function drawGround(){
    ctx.fillStyle = '#94723c'; ctx.fillRect(0, H - 46, W, 46);
    const g = ctx.createLinearGradient(0, H-60, 0, H-40);
    g.addColorStop(0,'#4caf50'); g.addColorStop(1,'#2e7d32');
    ctx.fillStyle = g; ctx.fillRect(0, H - 52, W, 12);
    ctx.strokeStyle = 'rgba(255,255,255,0.25)'; ctx.lineWidth = 1;
    for(let i=0;i<W; i+=8){
      ctx.beginPath(); ctx.moveTo(i, H-52); ctx.quadraticCurveTo(i+2, H-58, i+4, H-52); ctx.stroke();
    }
    for(let i=0;i<80;i++){
      ctx.fillStyle = 'rgba(0,0,0,0.08)';
      const dx = Math.random()*W, dy = H-44 + Math.random()*40, r = Math.random()*1.6+0.4;
      ctx.beginPath(); ctx.arc(dx, dy, r, 0, Math.PI*2); ctx.fill();
    }
  }

  function drawBird(){
    ctx.save();
    ctx.translate(bird.x, bird.y);
    ctx.rotate(bird.rotation);

    ctx.beginPath(); ctx.fillStyle = 'rgba(0,0,0,0.15)'; ctx.ellipse(4,8,bird.radius*0.9,bird.radius*0.6,0,0,Math.PI*2); ctx.fill();

    const bg = ctx.createRadialGradient(-6,-8,2,0,0,bird.radius+6);
    bg.addColorStop(0,'#fff6b3'); bg.addColorStop(1,'#ffcd42');
    ctx.beginPath(); ctx.fillStyle = bg; ctx.arc(0,0,bird.radius,0,Math.PI*2); ctx.fill();

    ctx.lineWidth = 2; ctx.strokeStyle = 'rgba(0,0,0,0.45)';
    ctx.beginPath(); ctx.arc(0,0,bird.radius,0,Math.PI*2); ctx.stroke();

    ctx.beginPath(); ctx.fillStyle = '#fff'; ctx.arc(6,-4,4,0,Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.fillStyle = '#222'; ctx.arc(7,-4,2,0,Math.PI*2); ctx.fill();

    ctx.beginPath(); ctx.fillStyle = '#ff9f1a';
    ctx.moveTo(2,2); ctx.lineTo(16,6); ctx.lineTo(2,10); ctx.closePath(); ctx.fill();

    const wingY = Math.sin(bird.wing)*6;
    ctx.save();
    ctx.translate(-6, 0);
    ctx.rotate(-0.5 + Math.sin(bird.wing)*0.4);
    ctx.beginPath();
    ctx.fillStyle = '#C20C19';
    ctx.ellipse(0, wingY, 10, 6, 0, 0, Math.PI*2);
    ctx.fill();

    ctx.fillStyle = '#FFD700';
    const starSize = 4;
    const starPoints = 5;
    drawStar(0, wingY, starSize, starSize * 0.4, starPoints);
    ctx.fill();
    
    ctx.restore();

    ctx.restore();
  }

  function drawFeathers(){
    feathers.forEach(f=>{
      const alpha = 1 - f.age / f.life;
      ctx.fillStyle = `hsla(${f.hue},90%,60%,${alpha})`;
      ctx.beginPath(); ctx.arc(f.x, f.y, f.r, 0, Math.PI*2); ctx.fill();
    });
  }

  function draw(){
    ctx.clearRect(0,0,W,H);
    drawSky();
    pipes.forEach((p, index) => {
        const pipeNumber = passedPipes + index + 1;
        const isSpecial = pipeNumber % 5 === 0;
        drawPipe(p.x, 0, PIPE_W, p.top + H, true, isSpecial);
        drawPipe(p.x, p.bottom, PIPE_W, H - p.bottom, false, isSpecial);
    });
    for(const f of fireworks){
      const alpha = 1 - (f.age / f.life);
      ctx.beginPath(); ctx.fillStyle = `hsla(${f.hue},90%,60%,${alpha})`; ctx.arc(f.x, f.y, f.r, 0, Math.PI*2); ctx.fill();
    }
    drawFeathers();
    drawBird();
    drawGround();
  }

  function loop(){
    requestAnimationFrame(loop);
    if (!playing && !gameOver) {
      draw();
      return;
    }
    update();
    draw();
  }

  function reset(){
    frames = 0; pipes = []; score = 0; passedPipes = 0; level = 1;
    gameOver = false; playing = false; fireworks = []; showCelebration = false; celebrationTimer = 0;
    currentLevelPipesPassed = 0;
    for(let i=0;i<4;i++) pipes.push(spawnPipe(W + i*PIPE_DIST + 60));
    initClouds(); initHills();
    updateHUD(); 
    go.classList.remove('visible'); 
    startScreen.style.display = 'flex';
    isGameEnding = false;
  }

  function startMusic(){
    try{ if(audioCtx && audioCtx.state === 'suspended') audioCtx.resume(); }catch(e){}
    if(bgMusic){
      bgMusic.pause(); bgMusic.currentTime = 0; bgMusic.loop = true;
      bgMusic.play().catch(()=>{});
    }
  }

  function stopMusic(){
    if(bgMusic){ bgMusic.pause(); bgMusic.currentTime = 0; }
  }


  initClouds(); initHills(); reset(); loop();

  window.__game = { reset };

})();
</script>
</body>
</html>
```
